<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="_r_e_a_d_m_e_8md" kind="file" language="Markdown">
    <compoundname>README.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">#<sp/>Experimental<sp/>Robotics<sp/>Laboratory<sp/>-<sp/>third<sp/>assignment</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>package<sp/>contains<sp/>the<sp/>source<sp/>code<sp/>implemented<sp/>during<sp/>the<sp/>third<sp/>assignment<sp/>of<sp/>the<sp/>Experimental<sp/>Robotics<sp/>Laboratory,<sp/>course<sp/>of<sp/>the<sp/>first<sp/>semester<sp/>of<sp/>the<sp/>second<sp/>year<sp/>of<sp/>Robotics<sp/>Engineering<sp/>Master<sp/>Degree<sp/>course<sp/>of<sp/>University<sp/>of<sp/>Genoa,<sp/>Italy.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Index</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Index:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[Required<sp/>packages](#required-packages)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[Assignment<sp/>request](#assignment-request)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[Before<sp/>Getting<sp/>Started](#before-getting-started)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[Software<sp/>Architecture<sp/>and<sp/>Functioning](#software-architecture-and-functioning)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[ROS<sp/>nodes<sp/>description](#ros-nodes-description)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>state_machine.py<sp/>node](#the-state_machine.py-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>navigation.py<sp/>node](#the-navigation.py-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>cluedo_kb.py<sp/>node](#the-cluedo_kb.py-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>simulation.cpp<sp/>node](#the-simulation.cpp-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>image_echo.cpp<sp/>node](#the-image_echo.cpp-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[The<sp/>detectibot_magnifier.cpp<sp/>node](#the-detectibot_magnifier.cpp-node)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[Rqt_graph](#rqt_graph)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>[UML<sp/>temporal<sp/>diagram](#uml-temporal-diagram)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>[Summarizing<sp/>working<sp/>architecture](#summarizing-working-architecture)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[How<sp/>to<sp/>launch<sp/>and<sp/>additional<sp/>documentation](#how-to-launch-and-additional-documentation)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>[Running<sp/>the<sp/>Navigation<sp/>module](#running-the-navigation-module)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>[Running<sp/>the<sp/>Visio<sp/><sp/>module](#running-the-vision-module)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>[Running<sp/>the<sp/>State<sp/>machine<sp/>module](#running-the-state-machine-module)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[System<sp/>limitations](#system-limitations)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[Possible<sp/>Technical<sp/>Improvements](#possible-technical-improvements)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-<sp/>[Contact](#contact)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Required<sp/>packages</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*<sp/>**ROS**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*<sp/>**smach**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*<sp/>**OpenCV**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*<sp/>**MoveIt<sp/>Frameowrk**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*<sp/>**move_base**</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Assignment<sp/>request</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>assignment<sp/>improves<sp/>the<sp/>architectures<sp/>developed<sp/>in<sp/>the<sp/>first<sp/>and<sp/>second<sp/>assignments<sp/>but<sp/>unlike<sp/>them,<sp/>the<sp/>environment<sp/>in<sp/>which<sp/>the<sp/>robot<sp/>moves<sp/>is<sp/>much<sp/>more<sp/>complex.<sp/>Indeed,<sp/>it<sp/>presents<sp/>several<sp/>rooms,<sp/>and<sp/>30<sp/>ArUco<sp/>markers<sp/>(5<sp/>markers<sp/>for<sp/>each<sp/>room)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>time,<sp/>each<sp/>marker<sp/>corresponds<sp/>to<sp/>a<sp/>hint,<sp/>which<sp/>are<sp/>always<sp/>given<sp/>with<sp/>the<sp/>following<sp/>structure:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">int32<sp/>ID</highlight></codeline>
<codeline><highlight class="normal">string<sp/>key</highlight></codeline>
<codeline><highlight class="normal">string<sp/>value</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Also,<sp/>markers<sp/>may<sp/>me<sp/>in<sp/>three<sp/>different<sp/>positions:<sp/>placed<sp/>on<sp/>the<sp/>walls<sp/>(height<sp/>1<sp/>m<sp/>ca.),<sp/>and<sp/>on<sp/>the</highlight></codeline>
<codeline><highlight class="normal">floor<sp/>(placed<sp/>vertically<sp/>or<sp/>horizonally).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>idea<sp/>is<sp/>the<sp/>same<sp/>of<sp/>the<sp/>previous<sp/>two<sp/>assignment:<sp/>the<sp/>robot<sp/>should<sp/>keep<sp/>receiving<sp/>hints<sp/>until<sp/>it<sp/>has<sp/>a<sp/>complete<sp/>and<sp/>consistent<sp/>hypothesis.<sp/>However,<sp/>as<sp/>in<sp/>the<sp/>previous<sp/>assignments,<sp/>only<sp/>one<sp/>ID<sp/>source<sp/>is<sp/>the<sp/>trustable<sp/>one.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">As<sp/>soon<sp/>as<sp/>the<sp/>robot<sp/>gets<sp/>a<sp/>complete<sp/>hypothesis,<sp/>it<sp/>should<sp/>go<sp/>in<sp/>the<sp/>center<sp/>of<sp/>the<sp/>arena<sp/>(**x=0.0**,<sp/>**y=-1.0**,<sp/>which<sp/>should<sp/>be<sp/>also<sp/>the<sp/>starting<sp/>position<sp/>of<sp/>the<sp/>robot)<sp/>and<sp/>«tells»<sp/>its<sp/>solution.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">If<sp/>the<sp/>solution<sp/>is<sp/>the<sp/>correct<sp/>one,<sp/>the<sp/>game<sp/>ends.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&gt;<sp/>**REMARK**<sp/>x<sp/>and<sp/>y<sp/>coordinates<sp/>belonging<sp/>to<sp/>each<sp/>room&apos;s<sp/>point<sp/>where<sp/>known<sp/>a<sp/>priori<sp/>as<sp/>shown<sp/>in<sp/>the<sp/>table<sp/>below<sp/><sp/><sp/></highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>room<sp/><sp/>|<sp/>x,y<sp/>coordinates<sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|--|--|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room1<sp/>|<sp/>(<sp/>-4<sp/>,<sp/>-3<sp/>)<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room2<sp/>|<sp/>(<sp/>-4<sp/>,<sp/>+2<sp/>)<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room3<sp/>|<sp/>(<sp/>-4<sp/>,<sp/>+7<sp/>)<sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room4<sp/>|<sp/>(<sp/>5<sp/>,<sp/>-7<sp/>)<sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room5<sp/>|<sp/>(<sp/>5<sp/>,<sp/>-3<sp/>)<sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>|<sp/>Room6<sp/>|<sp/>(<sp/>5<sp/>,<sp/>+1<sp/>)<sp/><sp/>|</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">There<sp/>are<sp/>different<sp/>values<sp/>for<sp/>z,<sp/>meaning<sp/>that<sp/>the<sp/>robot<sp/>needs<sp/>to<sp/>be<sp/>able<sp/>to<sp/>reach<sp/>them<sp/>with<sp/>it&apos;s<sp/>arm,<sp/>precisely<sp/>with<sp/>its<sp/>*cluedo_link*.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Concerining<sp/>the<sp/>simulation<sp/>environment,<sp/>there<sp/>are<sp/>small<sp/>walls<sp/>around<sp/>the<sp/>robot<sp/>aimed<sp/>at<sp/>impeding<sp/>the<sp/>movements<sp/>of<sp/>its<sp/>mobile<sp/>base</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Hence<sp/>the<sp/>robot<sp/>moves<sp/>from<sp/>one<sp/>«hint»<sp/>coordinate<sp/>to<sp/>another<sp/>one,<sp/>while<sp/>receiving<sp/>hints.<sp/>This<sp/>holds<sp/>until<sp/>it<sp/>has<sp/>a<sp/>complete</highlight></codeline>
<codeline><highlight class="normal">and<sp/>consistent<sp/>hypothesis</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;!--<sp/>Note<sp/>about<sp/><sp/>consistent<sp/>huèothesis<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/>Please<sp/>consider<sp/>that<sp/>**consistent<sp/>hypothesis**<sp/>have<sp/>been<sp/>defined<sp/>as<sp/>COMPLETED<sp/>but<sp/>NOT<sp/>INCONSISTENT</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&gt;<sp/>*REMARK*<sp/>A<sp/>consistent<sp/>hypothesis<sp/>is<sp/><sp/>defined<sp/>as<sp/>*completed*<sp/>when<sp/>there<sp/>occurs<sp/>one<sp/>role<sp/>for<sp/>each<sp/>class<sp/>(i.e.,<sp/>one<sp/>occourence<sp/>of<sp/>what,<sp/>one<sp/>occourence<sp/>for<sp/>who,<sp/>one<sp/>occourence<sp/>for<sp/>where<sp/>).</highlight></codeline>
<codeline><highlight class="normal">A<sp/>straightforward<sp/>example<sp/>of<sp/>such<sp/>hypothesis<sp/>is<sp/>[ID2][12],<sp/>whose<sp/>definition<sp/>is<sp/>here<sp/>below<sp/>reported</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```txt</highlight></codeline>
<codeline><highlight class="normal">ID2_1:<sp/>[&apos;where&apos;,<sp/>&apos;Study&apos;]</highlight></codeline>
<codeline><highlight class="normal">ID2_2:<sp/>[&apos;who&apos;,<sp/>&apos;Col.Mustard&apos;]</highlight></codeline>
<codeline><highlight class="normal">ID2_3:<sp/>[&apos;what&apos;,<sp/>&apos;Rope&apos;]</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">As<sp/>in<sp/>the<sp/>first<sp/>assignment:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>only<sp/>one<sp/>ID<sp/>source<sp/>is<sp/>the<sp/>trustable<sp/>one.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>Whenever<sp/>a<sp/>robot<sp/>gets<sp/>a<sp/>complete<sp/>hypothesis,<sp/>it<sp/>should<sp/>go<sp/>in<sp/>the<sp/>center<sp/>of<sp/>the<sp/>arena</highlight></codeline>
<codeline><highlight class="normal">-<sp/>Once<sp/>the<sp/>center<sp/>has<sp/>been<sp/>reached,<sp/>it<sp/>should<sp/>«tell»<sp/>its<sp/>solution<sp/>(as<sp/>in<sp/>the<sp/>first<sp/>assignment).</highlight></codeline>
<codeline><highlight class="normal">-<sp/>If<sp/>the<sp/>solution<sp/>is<sp/>the<sp/>**correct<sp/>one**,<sp/>the<sp/>game<sp/>ends</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Before<sp/>Getting<sp/>Started</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">In<sp/>order<sp/>to<sp/>find<sp/>the<sp/>marker<sp/>models,<sp/>befire<sp/>the<sp/>build,<sp/>navigate<sp/>through<sp/>the<sp/>directories:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">cd<sp/>/ros_ws/src/ExperimentalRoboticsAssignment3/erl3/models</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">copy<sp/>all<sp/>files<sp/>inside<sp/>the<sp/>`erl3`<sp/>models<sp/>folder<sp/>and<sp/>navigate<sp/>to<sp/>the<sp/>`root/.gazebo`<sp/>directory</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">cd<sp/>/root/.gazebo/models</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">paste<sp/>the<sp/>previously<sp/>copied<sp/>files,<sp/>containing<sp/>all<sp/>the<sp/>marker&apos;s<sp/>models.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Then<sp/>you<sp/>can<sp/>build<sp/>the<sp/>workspace.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Software<sp/>Architecture<sp/>and<sp/>Functioning</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>most<sp/>relevant<sp/>aspects<sp/>of<sp/>the<sp/>project<sp/>and<sp/>a<sp/>brief<sp/>video<sp/>tutorial<sp/>on<sp/>how<sp/>to<sp/>launch<sp/>the<sp/>simulation<sp/>can<sp/>be<sp/>found<sp/>here<sp/>below</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">https://user-images.githubusercontent.com/61761835/188322232-e940bd45-e460-4505-8004-16a02879690c.mp4</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>ROS<sp/>nodes<sp/>description</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Here<sp/>there<sp/>is<sp/>the<sp/>UML<sp/>components<sp/>diagram<sp/>of<sp/>the<sp/>project</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/component_diagram.jpg&quot;<sp/>&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>aforementioned<sp/>architechture<sp/>can<sp/>be<sp/>seen<sp/>as<sp/>a<sp/>**deliberative**<sp/>one,<sp/>being<sp/>its<sp/>pipeline<sp/>structured<sp/>as<sp/>*&quot;sense-plan-act&quot;*</highlight></codeline>
<codeline><highlight class="normal">More<sp/>specifically,<sp/>there<sp/>are<sp/>*three<sp/>types*<sp/>of<sp/>sense<sp/>in<sp/>this<sp/>architechture</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**Vision**:<sp/><sp/><sp/><sp/><sp/><sp/>It<sp/>is<sp/>implemented<sp/>by<sp/>means<sp/>of<sp/>Aruco<sp/>and<sp/>OpenCV<sp/>frameworks</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**Localisation**:<sp/>It<sp/>is<sp/>implemented<sp/>by<sp/>means<sp/>of<sp/>the<sp/>Odom<sp/>topic,<sp/>in<sp/>Gazebo</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**Mapping**:<sp/>made<sp/>possible<sp/>by<sp/>laser<sp/>sensors<sp/>and<sp/>GMAPPING<sp/>algorithm</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Moreover:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>Concerning<sp/>the<sp/>*&quot;plan&quot;*<sp/>module,<sp/>it<sp/>is<sp/>implemented<sp/>through<sp/>a<sp/>**Smach**<sp/>state<sp/>machine</highlight></codeline>
<codeline><highlight class="normal">-<sp/>Finally,<sp/>the<sp/>`move_base`<sp/>pkg<sp/>is<sp/>responsible<sp/>for<sp/>the<sp/>detectibot&apos;s<sp/>movement<sp/>around<sp/>the<sp/>environment</highlight></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>mapping<sp/>is<sp/>performed<sp/>using<sp/>**SLAM<sp/>GMAPPING**<sp/>module</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Modules:</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**cluedo_kb.py**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**navigation.py**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**state_machine.py**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**simulation.cpp**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**img_echo.cpp**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>**detectibot_magnifier.cpp**<sp/><sp/>&lt;!--<sp/>PLEASE<sp/>INSERT<sp/>HERE<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>state_machine.py<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/erl_assignment_3_state_machine_py.jpg&quot;<sp/>width=<sp/>300<sp/>height=300&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">It<sp/>implements<sp/>a<sp/>state<sp/>machine<sp/>that<sp/>controls<sp/>the<sp/>operations<sp/>of<sp/>the<sp/>robot<sp/>using<sp/>**smach_ros**</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">In<sp/>particular<sp/>the<sp/>machine<sp/>organises<sp/>the<sp/>investigation<sp/>into<sp/>four<sp/>states.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**move**<sp/>→<sp/>moves<sp/>the<sp/>robot<sp/>between<sp/>rooms<sp/>inside<sp/>the<sp/>simulated<sp/>indoor<sp/>environment</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**collect**<sp/>→<sp/>the<sp/>robot<sp/>rotates<sp/>on<sp/>itself<sp/>to<sp/>read<sp/>the<sp/>largest<sp/>number<sp/>of<sp/>hints<sp/>within<sp/>the<sp/>room</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**check**<sp/>→<sp/>takes<sp/>hints<sp/>from<sp/>the<sp/>sensing<sp/>system<sp/>via<sp/>a<sp/>service,<sp/>and<sp/>uses<sp/>the<sp/>ontology<sp/>to<sp/>work<sp/>out<sp/>whether<sp/>there<sp/>are<sp/>possible<sp/>solutions<sp/>or<sp/>not.<sp/>If<sp/>there<sp/>occurs<sp/>no<sp/>possible<sp/>solutions,<sp/>the<sp/>outcome<sp/>is<sp/>`mistery_not_solvable`,<sp/>and<sp/>the<sp/>robot<sp/>transitions<sp/>back<sp/>to<sp/>the<sp/>&quot;move&quot;<sp/>state.<sp/>Otherwise,<sp/>if<sp/>there<sp/>actually<sp/>occurs<sp/>possible<sp/>solutions,<sp/>the<sp/>state<sp/>machine<sp/>makes<sp/>a<sp/>transition<sp/>to<sp/>the<sp/>&quot;show&quot;<sp/>state,<sp/>responsible<sp/>for<sp/>querying<sp/>the<sp/>oracle<sp/>about<sp/>the<sp/>solution&apos;s<sp/>truthfulness</highlight></codeline>
<codeline><highlight class="normal">-<sp/>**show**<sp/>→<sp/>questions<sp/>the<sp/>oracle<sp/>about<sp/>the<sp/>solution</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Here<sp/>below<sp/>we<sp/>can<sp/>find<sp/>a<sp/>hand-made<sp/>state<sp/>diagram,<sp/>representing<sp/>how<sp/>the<sp/>system<sp/>works</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/state_diagrams/state_diagram.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Thanks<sp/>to<sp/>smach,<sp/>we<sp/>can<sp/>visualize<sp/>the<sp/>state<sp/>of<sp/>the<sp/>state<sp/>machine<sp/>in<sp/>which<sp/>the<sp/>program<sp/>is<sp/>running.<sp/>Just<sp/>type:</highlight></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>smach_viewer<sp/>smach_viewer.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&gt;<sp/>_REMARK:_<sp/>Please,<sp/>remember<sp/>to<sp/>import<sp/>the<sp/>correct<sp/>libraries<sp/>(i.e<sp/>`import<sp/>smach,<sp/>smach_ros`)<sp/>otherwise<sp/>some<sp/>errors<sp/>may<sp/>occur!</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">![state_machine_functioning](https://user-images.githubusercontent.com/61761835/188338883-71fa5cc8-ad81-4621-87c5-35a7ca21c44a.gif)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/state_machine]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/state_machine/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/state_machine/set_logger_level</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>navigation.py<sp/>node<sp/>:knot:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/erl_assignment_3_navigation_py.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>node<sp/>implements<sp/>two<sp/>different<sp/>services<sp/>aimed<sp/>at<sp/>letting<sp/>the<sp/>robot<sp/>reach<sp/>different<sp/>rooms<sp/>and<sp/>to<sp/>collect<sp/>hints.</highlight></codeline>
<codeline><highlight class="normal">The<sp/>`/go_to_point`<sp/>service<sp/>this<sp/>time<sp/>implements<sp/>MoveBase<sp/>and<sp/>waits<sp/>until<sp/>the<sp/>robot<sp/>hasn&apos;t<sp/>reached<sp/>the<sp/>given<sp/>target.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/>The<sp/>`/turn_robot`<sp/>service<sp/>listens<sp/>for<sp/>a<sp/>request<sp/>containing<sp/>the<sp/>angular<sp/>velocity<sp/>around<sp/>x<sp/>to<sp/>keep,<sp/>and<sp/>the<sp/>time<sp/>during<sp/>which<sp/>the<sp/>robot<sp/>has<sp/>to<sp/>turn<sp/>at<sp/>a<sp/>specific<sp/>angular<sp/>velocity.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>**move_base**<sp/>module<sp/>combines<sp/>a<sp/>global<sp/>and<sp/>a<sp/>local<sp/>planner<sp/>and<sp/>provides<sp/>a<sp/>much<sp/>more<sp/>robust<sp/>navigation<sp/>module<sp/>than<sp/>the<sp/>previously<sp/>used.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>In<sp/>addition<sp/>the<sp/>navigation<sp/>service<sp/>provides<sp/>a<sp/>**service**<sp/>to<sp/>rotate<sp/>the<sp/>robot<sp/>(erl_assignment_3_msgs/TurnRobot)<sp/>by<sp/>a<sp/>certain<sp/>angle<sp/>speed<sp/>for<sp/>a<sp/>certain<sp/>time;<sp/>this<sp/>functionality<sp/>is<sp/>necessary<sp/>for<sp/>the<sp/>collection<sp/>of<sp/>clues.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>Interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/navigation]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/cmd_vel<sp/>[geometry_msgs/Twist]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/move_base/cancel<sp/>[actionlib_msgs/GoalID]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/move_base/goal<sp/>[move_base_msgs/MoveBaseActionGoal]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/odom<sp/>[nav_msgs/Odometry]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/go_to_point</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/navigation/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/navigation/set_logger_level</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/turn_robot</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>cluedo_kb.py<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/erl_assignment_3_cluedo_kb_py.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>node<sp/>represents<sp/>the<sp/>knowledge<sp/>base<sp/>of<sp/>the<sp/>robot,<sp/>allowing<sp/>for<sp/>storing<sp/>and<sp/>processing<sp/>of<sp/>hypotheses,<sp/>and<sp/>interrogation<sp/>of<sp/>the<sp/>oracle<sp/>in<sp/>order<sp/>to<sp/>check<sp/>if<sp/>the<sp/>problem<sp/>is<sp/>being<sp/>resolved.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">More<sp/>specifically,<sp/>When<sp/>the<sp/>robot<sp/>starts<sp/>roaming<sp/>around<sp/>looking<sp/>for<sp/>Aruco<sp/>markers,<sp/>(where<sp/>the<sp/>hints&apos;<sp/>IDs<sp/>are<sp/>stored),<sp/>it<sp/><sp/>makes<sp/>a<sp/>service<sp/>request<sp/>through<sp/>`/add_hint`<sp/>for<sp/>soliciting<sp/>the<sp/>oracle<sp/>to<sp/>announce<sp/>the<sp/>found<sp/>hint.<sp/>This<sp/>latter,<sp/>consists<sp/>in<sp/>a<sp/>request<sp/>of<sp/>type<sp/>`erl3/Marker`<sp/>here<sp/>below<sp/>reported</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">#<sp/>erl3/Marker<sp/>service<sp/>implementation</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">int32<sp/>markerId</highlight></codeline>
<codeline><highlight class="normal">---</highlight></codeline>
<codeline><highlight class="normal">#<sp/>erl3/ErlOracle<sp/>oracle_hint</highlight></codeline>
<codeline><highlight class="normal">ErlOracle<sp/>oracle_hint</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">Since<sp/>could<sp/>happen<sp/>that<sp/>sometimes<sp/>the<sp/>Oracle<sp/>sends<sp/>a<sp/>wrong<sp/>hint<sp/>(i.e.<sp/>it<sp/>may<sp/>occurs<sp/>that<sp/>some<sp/>fields<sp/>are<sp/>empty<sp/>strings<sp/>and/or<sp/>some<sp/>fields<sp/>has<sp/>value<sp/>-1),<sp/>a<sp/>function<sp/>responsible<sp/>for<sp/>checking<sp/>its<sp/>quality,<sp/>has<sp/>been<sp/>implemented.</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/cluedo_kb]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/add_hint</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/cluedo_kb/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/cluedo_kb/set_logger_level</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/get_id</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/mark_wrong_id</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>simulation.cpp<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/erl3_final_oracle_cpp.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>architecture<sp/>is<sp/>based<sp/>on<sp/>the<sp/>simulation.cpp<sp/>node<sp/>which<sp/>is<sp/>the<sp/>same<sp/>node<sp/>we<sp/>were<sp/>provided<sp/>by<sp/>our<sp/>Professors</highlight></codeline>
<codeline><highlight class="normal">Implements<sp/>two<sp/>services:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>1.<sp/>(/oracle_hint<sp/>[erl3/Marker]),<sp/>once<sp/>it<sp/>has<sp/>been<sp/>provided<sp/>with<sp/>a<sp/>certain<sp/>ID,<sp/>it<sp/>returns<sp/>the<sp/>clue<sp/>corresponding<sp/>to<sp/>that<sp/>ID<sp/>(Identifier<sp/>of<sp/>an<sp/>index<sp/>in<sp/>an<sp/>array<sp/>of<sp/>messages<sp/>yield<sp/>by<sp/>the<sp/>oracle)</highlight></codeline>
<codeline><highlight class="normal">-<sp/>2.<sp/>Concerning<sp/>the<sp/>second<sp/>one<sp/>(/oracle_solution<sp/>[erl3/Oracle]),<sp/>it<sp/>is<sp/>needed<sp/>to<sp/>check<sp/>the<sp/>correctness<sp/>of<sp/>a<sp/>proposed<sp/>hypothesis<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>case</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/final_oracle]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/final_oracle/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/final_oracle/set_logger_level</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/oracle_hint</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/oracle_solution</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>img_echo.cpp<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/main/media/component_diagrams/v1/erl_assignment_3_img_echo_cpp.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Briefly,<sp/>this<sp/>node<sp/>reads<sp/>the<sp/>input<sp/>image<sp/>from<sp/>the<sp/>robot&apos;s<sp/>camera.<sp/>Secondly,<sp/>it<sp/><sp/>print<sp/>it<sp/>on<sp/>a<sp/>floating<sp/>window,<sp/>namely<sp/>DetectiCAm,<sp/>by<sp/>means<sp/>of<sp/>a<sp/>`cv_ptr`.<sp/>(the<sp/>`cv_bridge::CvImagePtr<sp/>cv_ptr`<sp/>returns<sp/>a<sp/>ROS<sp/>image<sp/>into<sp/>an<sp/>appropriate<sp/>format<sp/>compatible<sp/>with<sp/>OpenCV).</highlight></codeline>
<codeline><highlight class="normal">It<sp/>then<sp/>publishes<sp/>the<sp/>video<sp/>stream.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">![detecticam_optimised](https://user-images.githubusercontent.com/61761835/188857662-adec563d-f4ec-4517-bd43-c74b1b9261d7.gif)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&gt;<sp/>Further<sp/>Remark:<sp/>ImageTransport&apos;s<sp/><sp/>methods<sp/>have<sp/>been<sp/>employed<sp/>for<sp/>creating<sp/>image<sp/>publishers<sp/>and<sp/>subscribers,<sp/>being<sp/>`image_transport`<sp/>a<sp/>package<sp/>that<sp/>provides<sp/>transparetn<sp/>support<sp/>for<sp/>transporting<sp/>images<sp/>in<sp/>low-bandwidth<sp/>compressed<sp/>formats.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/img_echo]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo<sp/>[sensor_msgs/Image]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressed<sp/>[sensor_msgs/CompressedImage]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressed/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressed/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressedDepth<sp/>[sensor_msgs/CompressedImage]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressedDepth/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressedDepth/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/theora<sp/>[theora_image_transport/Packet]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/theora/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/theora/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw<sp/>[sensor_msgs/Image]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressed/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/compressedDepth/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/set_logger_level</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/img_echo/theora/set_parameters</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/>--------------------------------------------------------------------------------</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/gazebo]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/link_states<sp/>[gazebo_msgs/LinkStates]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/model_states<sp/>[gazebo_msgs/ModelStates]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/odom<sp/>[nav_msgs/Odometry]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/camera_info<sp/>[sensor_msgs/CameraInfo]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw<sp/>[sensor_msgs/Image]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressed<sp/>[sensor_msgs/CompressedImage]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressed/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressed/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressedDepth<sp/>[sensor_msgs/CompressedImage]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressedDepth/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressedDepth/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/theora<sp/>[theora_image_transport/Packet]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/theora/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/theora/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/parameter_descriptions<sp/>[dynamic_reconfigure/ConfigDescription]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/parameter_updates<sp/>[dynamic_reconfigure/Config]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/scan<sp/>[sensor_msgs/LaserScan]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/tf<sp/>[tf2_msgs/TFMessage]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/cmd_vel<sp/>[geometry_msgs/Twist]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_link_state<sp/>[unknown<sp/>type]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_model_state<sp/>[unknown<sp/>type]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/list_controller_types</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/list_controllers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/load_controller</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/reload_controller_libraries</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/switch_controller</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/controller_manager/unload_controller</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/apply_body_wrench</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/apply_joint_effort</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/clear_body_wrenches</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/clear_joint_forces</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/delete_light</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/delete_model</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_joint_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_light_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_link_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_link_state</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_model_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_model_state</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_physics_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/get_world_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/pause_physics</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/reset_simulation</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/reset_world</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_joint_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_light_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_link_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_link_state</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_logger_level</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_model_configuration</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_model_state</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/set_physics_properties</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/spawn_sdf_model</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/spawn_urdf_model</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/gazebo/unpause_physics</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressed/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/compressedDepth/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw/theora/set_parameters</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/set_camera_info</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/set_parameters</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>The<sp/>detectibot_magnifier.cpp<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;center&quot;&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/component_diagrams/v1/erl_assignment_3_detectibot_magnifier.jpg&quot;<sp/>width=<sp/>500<sp/>height=500&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>node<sp/>is<sp/>devoted<sp/>to<sp/>the<sp/>detection<sp/>of<sp/>ARUCO&apos;s<sp/>markers<sp/>made<sp/>through<sp/>a<sp/>single<sp/>camera<sp/>mounted<sp/>on<sp/>the<sp/>front<sp/>side<sp/>of<sp/>the<sp/>robot.</highlight></codeline>
<codeline><highlight class="normal">It<sp/>also<sp/>implements<sp/>a<sp/>service<sp/>that<sp/>allows<sp/>for<sp/>retrieving<sp/>the<sp/>IDs<sp/>identified<sp/>through<sp/>Aruco.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">For<sp/>realising<sp/>such<sp/>a<sp/>node,<sp/>the<sp/>**vision_openCV**<sp/>package<sp/>is<sp/>needed.<sp/>This<sp/>node<sp/>employs<sp/>a<sp/>bridge<sp/>between<sp/>OpenCV<sp/>and<sp/>ROS.<sp/>Due<sp/>to<sp/>the<sp/>fact<sp/>that<sp/>ROS<sp/>sends<sp/>Images<sp/>in<sp/>`sensor_msgs/Image`<sp/>format,<sp/>our<sp/>goal<sp/>is<sp/>to<sp/>obtain<sp/>images<sp/>in<sp/>`cv_bridge`<sp/>format.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Node<sp/>interfaces:</highlight></codeline>
<codeline><highlight class="normal">```Plain<sp/>txt</highlight></codeline>
<codeline><highlight class="normal">Node<sp/>[/detectibot_magnifier]</highlight></codeline>
<codeline><highlight class="normal">Publications:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/rosout<sp/>[rosgraph_msgs/Log]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Subscriptions:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/clock<sp/>[rosgraph_msgs/Clock]</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/robot/camera1/image_raw<sp/>[sensor_msgs/Image]</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Services:</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/aruco_markers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/detectibot_magnifier/get_loggers</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>/detectibot_magnifier/set_logger_level</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Rqt_graph</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=<sp/>&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/rqt/rosgraph_nodes_topics_all.png&quot;<sp/>/&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>UML<sp/>temporal<sp/>diagram</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">By<sp/>means<sp/>of<sp/>this<sp/>diagram<sp/>it<sp/>is<sp/>possible<sp/>to<sp/>show<sp/>how<sp/>the<sp/>system<sp/>works.<sp/>As<sp/>the<sp/>state_machine<sp/>gets<sp/>launched,<sp/>the<sp/>robot<sp/>enters<sp/>the<sp/>MOVE<sp/>state,<sp/>responsible<sp/>for<sp/>the<sp/>activation<sp/>of<sp/>the<sp/>`/go_to_point`<sp/>service.<sp/>Hence,<sp/>it<sp/>reaches<sp/>the<sp/>center<sp/>of<sp/>the<sp/>room<sp/>and<sp/>it<sp/>starts<sp/>to<sp/>collect<sp/>as<sp/>many<sp/>marker<sp/>as<sp/>possible.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">This<sp/>has<sp/>been<sp/>made<sp/>possible<sp/>through<sp/>the<sp/>implementation<sp/>of<sp/>a<sp/>`/turn_robot`<sp/>service<sp/>that,<sp/>as<sp/>the<sp/>name<sp/>explicitly<sp/>suggests,<sp/>makes<sp/>detectibot<sp/>turning<sp/>around<sp/>its<sp/>own<sp/>position.<sp/>Only<sp/>after,<sp/>the<sp/>system<sp/>transitions<sp/>to<sp/>the<sp/>CHECK<sp/>state,<sp/>where<sp/>a<sp/>request<sp/>is<sp/>made<sp/>by<sp/>the<sp/>`/aruco_marker`<sp/>service<sp/>to<sp/>retrieve<sp/>the<sp/>detected<sp/>marker&apos;s<sp/>IDs<sp/>(by<sp/>means<sp/>of<sp/>a<sp/>topic<sp/>subscription).<sp/>Whenever<sp/>a<sp/>new<sp/>hint<sp/>gets<sp/>detected,<sp/>the<sp/>knowledge<sp/>base<sp/>represented<sp/>by<sp/>cluedo_kb<sp/>node<sp/>is<sp/>issued<sp/>(with<sp/>a<sp/>`/oracle_hint`<sp/>service<sp/>request).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">By<sp/>means<sp/>of<sp/>a<sp/>further<sp/>request,<sp/>made<sp/>to<sp/>the<sp/>final_oracle<sp/>node<sp/>through<sp/>the<sp/>`/oracle_solution`<sp/>service,<sp/>the<sp/>True<sp/>ID<sp/>gets<sp/>compared<sp/>and<sp/>it<sp/>is<sp/>chosen<sp/>whether<sp/>to<sp/>terminate<sp/>the<sp/>investigation<sp/>(ending<sp/>up<sp/>in<sp/>a<sp/>MISTERY_SOLVED<sp/>state)<sp/>or<sp/>pursuing<sp/>it,<sp/>transitioning<sp/>back<sp/>to<sp/>the<sp/>MOVE<sp/>state</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;img<sp/>src=<sp/>&quot;https://github.com/HolyStone95/ExperimentalRoboticsAssignment3/blob/master/media/temporal_diagrams/erl_temporal_diagram.jpg&quot;<sp/>/&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Summarizing<sp/>working<sp/>architecture</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>hypothesis<sp/>IDs<sp/>are<sp/>contained<sp/>within<sp/>Aruco<sp/>markers.<sp/>The<sp/>True<sp/>ID<sp/>instead,<sp/>is<sp/><sp/>randomly<sp/>chosen<sp/>before<sp/>starting<sp/>the<sp/>game.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Path<sp/>planning,<sp/>has<sp/>been<sp/>implemented<sp/>using<sp/>MoveBase<sp/>package</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">The<sp/>robot<sp/>is<sp/>equipped<sp/>with<sp/>a<sp/>single<sp/>camera,<sp/>mounted<sp/>frontally.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">It<sp/>is<sp/>also<sp/>equipped<sp/>with<sp/>laser<sp/>range<sp/>finders<sp/>which<sp/>make<sp/>possible,<sp/>together<sp/>with<sp/>Odometry<sp/>data,<sp/>to<sp/>employ<sp/>a<sp/>SLAM<sp/>gmapping<sp/>algorithm.</highlight></codeline>
<codeline><highlight class="normal">To<sp/>ensure<sp/>its<sp/>employability,<sp/>the<sp/>following<sp/>requirements<sp/>were<sp/>met:</highlight></codeline>
<codeline><highlight class="normal">-<sp/>laser<sp/>outputs<sp/>are<sp/>published<sp/>onto<sp/>`/scan`<sp/><sp/>topic</highlight></codeline>
<codeline><highlight class="normal">-<sp/>the<sp/>robot<sp/>model<sp/>is<sp/>endowed<sp/>with<sp/>two<sp/>frames<sp/>required<sp/>for<sp/>mapping<sp/>algorithms,<sp/>which<sp/>are:<sp/>`link_chassis`<sp/>and<sp/>`odom`</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Concerning<sp/>the<sp/>Aruco<sp/>detection,<sp/>it<sp/>has<sp/>been<sp/>implemented<sp/>by<sp/>the<sp/>**detectibotMagnifier**.<sp/>Indeed,<sp/>ROS<sp/>images<sp/>messages<sp/>are<sp/>sent<sp/>over<sp/>`/robot/camera/image_raw`<sp/>for<sp/>being<sp/>converted<sp/>im<sp/>a<sp/>openCV<sp/>handable<sp/>format.<sp/>This<sp/>is<sp/>done<sp/>by<sp/>means<sp/>of<sp/>`cv_bridge`<sp/>package.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>How<sp/>to<sp/>launch<sp/>and<sp/>additional<sp/>documentation</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Additional<sp/>documentation<sp/>of<sp/>this<sp/>project<sp/>can<sp/>be<sp/>found<sp/>opening<sp/>in<sp/>the<sp/>browser<sp/>the<sp/>file<sp/>*_build/html/index.html*</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Running<sp/>the<sp/>entire<sp/>project</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;!--<sp/>including<sp/>all<sp/>the<sp/>steps<sp/>to<sp/>display<sp/>the<sp/>robot&apos;s<sp/>behavior<sp/>--&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>test<sp/>the<sp/>**project**,<sp/>first<sp/>of<sp/>all:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>shell<sp/>and<sp/>run:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>erl_assignment_3_robot<sp/>detectibot_environment_2.launch<sp/>2&gt;/dev/null</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>second<sp/>shell<sp/>and<sp/>run</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>erl_assignment_3<sp/>launch_nodes.launch</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>third<sp/>shell<sp/>and<sp/>type:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>state_machine.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Running<sp/>the<sp/>Navigation<sp/>module</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>test<sp/>the<sp/>navigation<sp/>module,<sp/>first<sp/>of<sp/>all:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>shell<sp/>and<sp/>run:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>erl_assignment_3_robot<sp/>detectibot_environment_2.launch</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>second<sp/>shell<sp/>and<sp/>run<sp/>the<sp/>navigation<sp/>node</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>navigation.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Running<sp/>the<sp/>Vision<sp/>module</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>test<sp/>the<sp/>vision<sp/>module,<sp/>first<sp/>of<sp/>all:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>shell<sp/>and<sp/>run:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>erl_assignment_3_robot<sp/>detectibot_environment_2.launch</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>second<sp/>shell<sp/>and<sp/>run</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>img_echo</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>third<sp/>shell<sp/>and<sp/>type:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>detectibot_magnifier</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Running<sp/>the<sp/>State<sp/>machine<sp/>module</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>test<sp/>the<sp/>state<sp/>machine&apos;s<sp/>module<sp/>,<sp/>first<sp/>of<sp/>all:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>shell<sp/>and<sp/>run:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">roslaunch<sp/>erl_assignment_3_robot<sp/>detectibot_environment.launch<sp/>2&gt;/dev/null</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>second<sp/>shell<sp/>and<sp/>run</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>img_echo<sp/>&amp;</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>detectibot_magnifier<sp/>&amp;</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>navigation.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>third<sp/>shell<sp/>and<sp/>type:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>cluedo_kb.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Open<sp/>a<sp/>fourth<sp/>shell<sp/>and<sp/>run:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```sh</highlight></codeline>
<codeline><highlight class="normal">rosrun<sp/>erl_assignment_3<sp/>state_machine.py</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>System&apos;s<sp/>limitations</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Here<sp/>below,<sp/>some<sp/>of<sp/>the<sp/>major<sp/>system<sp/>limitations<sp/>are<sp/>listed:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Adding<sp/>cameras<sp/>will<sp/>mean<sp/>to<sp/>reconfigure<sp/>**detectibot_magnifier**<sp/>module.<sp/>Camera<sp/>data<sp/>simulated<sp/>is<sp/>costly,<sp/>it<sp/>required<sp/>a<sp/>powerfull<sp/>computer.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>A<sp/>significant<sp/>numebrs<sp/>of<sp/>Aruco<sp/>Markers<sp/>are<sp/>not<sp/>perceived<sp/>by<sp/>the<sp/>single<sp/>camera.<sp/>Modifying<sp/>the<sp/>orientation<sp/>of<sp/>the<sp/>camera<sp/>could<sp/>be<sp/>a<sp/>solution<sp/>or<sp/>even<sp/>better,<sp/>endowing<sp/>the<sp/>manipulator<sp/>arm<sp/>with<sp/>multiple<sp/>cameras<sp/>(with<sp/>different<sp/>pan<sp/>and<sp/>tilt)<sp/>could<sp/>work<sp/>as<sp/>well.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>There&apos;s<sp/>some<sp/>issues<sp/>with<sp/>the<sp/>move<sp/>base<sp/>evaluating<sp/>the<sp/>target:<sp/>sometimes<sp/>the<sp/>robot<sp/>remains<sp/>stuck<sp/>for<sp/>a<sp/>while<sp/>before<sp/>resuming<sp/>navigation.</highlight></codeline>
<codeline><highlight class="normal">-<sp/>As<sp/>already<sp/>pointed<sp/>out<sp/>the<sp/>simulation<sp/>is<sp/>very<sp/>costly<sp/>and<sp/>required<sp/>the<sp/>use<sp/>a<sp/>powerful<sp/>machine<sp/>in<sp/>order<sp/>to<sp/>run<sp/>rapidly<sp/>enough.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Possible<sp/>technical<sp/>Improvements</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>current<sp/>KB<sp/>is<sp/>being<sp/>chosen<sp/>because<sp/>there<sp/>was<sp/>problems<sp/>and<sp/>limitations<sp/>in<sp/>using<sp/>ARMOR<sp/>due<sp/>to<sp/>the<sp/>nature<sp/>of<sp/>the<sp/>generation<sp/>flow<sp/>of<sp/>ID,<sp/>decided<sp/>a<sp/>priori.<sp/>By<sp/>modification<sp/>of<sp/>the<sp/>ID<sp/>generation<sp/>flow<sp/>and<sp/>by<sp/>creating<sp/>an<sp/>interface<sp/>in<sp/>order<sp/>to<sp/>initially<sp/>filter<sp/>the<sp/>data,<sp/>it<sp/>is<sp/>fair<sp/>to<sp/>say<sp/>that<sp/>the<sp/>integration<sp/>with<sp/>ARMOR<sp/>would<sp/>be<sp/>preferable.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>navigation<sp/>system<sp/>using<sp/>move_base<sp/>still<sp/>has<sp/>some<sp/>limitations<sp/>and<sp/>seems<sp/>to<sp/>fatigue<sp/>in<sp/>reaching<sp/>certain<sp/>positions<sp/>and<sp/>orientations.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>The<sp/>current<sp/>robot<sp/>model<sp/>is<sp/>quite<sp/>unstable.<sp/>It<sp/>should<sp/>be<sp/>adjusted<sp/>so<sp/>that<sp/>it<sp/>does<sp/>not<sp/>oscillate<sp/>during<sp/>its<sp/>movements.<sp/>This<sp/>is<sp/>due<sp/>to<sp/>the<sp/>simplicity<sp/>of<sp/>its<sp/>mobile<sp/>base<sp/>with<sp/>respect<sp/>to<sp/>the<sp/>shape<sp/>of<sp/>its<sp/>robotic<sp/>arm.<sp/>A<sp/>more<sp/>robust<sp/>and<sp/>stable<sp/>model<sp/>should<sp/>eliminate<sp/>some<sp/>of<sp/>these<sp/>issues.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Possible<sp/>improvements<sp/>in<sp/>the<sp/>manipulation<sp/>controls<sp/>used<sp/>by<sp/>MoveIt<sp/>for<sp/>obtaining<sp/>a<sp/>better,<sp/>more<sp/>robust,<sp/>more<sp/>precise<sp/>manipulation.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>Possible<sp/>code<sp/>and<sp/>computational<sp/>improvements<sp/>in<sp/>order<sp/>to<sp/>further<sp/>reduce<sp/>the<sp/>cost<sp/>of<sp/>execution</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">&lt;p<sp/>align=&quot;right&quot;&gt;(&lt;a<sp/>href=&quot;#top&quot;&gt;back<sp/>to<sp/>top&lt;/a&gt;)&lt;/p&gt;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Contact</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Iacopo<sp/>Pietrasanta<sp/>-<sp/>s4119821@studenti.unige.it</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Project<sp/>Link:<sp/>[https://github.com/HolyStone95/ExperimentalRoboticsAssignment3](https://github.com/HolyStone95/ExperimentalRoboticsAssignment3)</highlight></codeline>
    </programlisting>
    <location file="README.md"/>
  </compounddef>
</doxygen>
